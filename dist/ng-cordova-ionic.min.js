"use strict";angular.module("ngCordovaIonic",["ngCordova"]),angular.module("ngCordovaIonic").factory("$cordovaReady",["$q","$ionicPlatform",function(o,n){return function(){return n.ready().then(function(){return ionic.Platform.isWebView()?o.resolve():o.reject("Not cordova.")})}}]),angular.module("ngCordovaIonic").factory("fileSystemService",["$window","$q","$ionicPlatform","$cordovaReady","$log",function(o,n,e,t,r){var i={},u=n.defer(),c=function(o,n){return o.root.toURL()+"/"+n};return t().then(function(){o.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(o){r.debug(o),u.resolve(o)},function(o){r.error(o),u.reject(o)})}),i.getFilesystem=function(){return u.promise},i.getFilePath=function(o){return i.getFilesystem().then(function(n){return c(n,o)})},i.checkFile=function(o){return i.getFilesystem().then(function(e){var t=n.defer();return e.root.getFile(c(e,o),{create:!1},function(o){t.resolve(o)},function(){t.resolve(e)}),t.promise})},i.downloadFile=function(o,e){return i.checkFile(e).then(function(o){var t,i=n.defer();return o.isFile?(t=o.toURL(),o.remove(function(){i.resolve(t)},function(o){r.error(o),i.reject(o)})):(t=c(filesystem,e),i.resolve(t)),i.promise}).then(function(e){var t=n.defer(),i=new FileTransfer;return i.onprogress=function(o){t.notify(o.lengthComputable?Math.round(o.loaded/o.total*100):"...")},i.download(encodeURI(o),e,function(o){r.debug(o),t.resolve(o)},function(o){r.error(o),t.reject(o)}),t.promise})},i}]),angular.module("ngCordovaIonic").factory("localStorage",["$window",function(o){var n={};return n.set=function(n,e){o.localStorage[n]=e||""},n.get=function(n,e){return o.localStorage[n]||e},n.setJson=function(o,e){n.set(o,angular.toJson(e||[]))},n.getJson=function(o,e){return angular.fromJson(n.get(o,e||"[]"))},n}]),angular.module("ngCordovaIonic").service("Notifier",["$log","$cordovaToast","$cordovaReady",function(o,n,e){this.info=function(){var t=_.toArray(arguments).join(" ");e().then(function(){n.showShortCenter(t).then(function(){o.info(t)},function(n){o.error(n)})},function(){o.info(t)})},this.infoTop=function(){var t=_.toArray(arguments).join(" ");e().then(function(){n.showShortTop(t).then(function(){o.info(t)},function(n){o.error(n)})},function(){o.info(t)})}}]),angular.module("ngCordovaIonic").factory("Popup",["$log","$cordovaDialogs","$ionicPopup","$cordovaReady",function(o,n,e,t){var r={};return r.show=function(o,r,i){t().then(function(){n.confirm(r,function(o){var n=i[o-1];n&&n.onTap?n.onTap():angular.noop()},o,_.map(i,"text"))},function(){e.show({title:o,subTitle:r,buttons:i})})},r}]);