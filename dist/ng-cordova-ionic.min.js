"use strict";angular.module("ngCordovaIonic",["ngCordova"]),angular.module("ngCordovaIonic").factory("$cordovaReady",function(n,o){return function(){var e=n.defer();return o.ready(function(){ionic.Platform.isWebView()?e.resolve():e.reject("Not cordova.")}),e.promise}}),angular.module("ngCordovaIonic").factory("fileSystemService",function(n,o,e,t,r){var i={},u=o.defer(),c=function(n,o){return n.root.toURL()+"/"+o};return t().then(function(){n.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(n){r.debug(n),u.resolve(n)},function(n){r.error(n),u.reject(n)})}),i.getFilesystem=function(){return u.promise},i.getFilePath=function(n){return i.getFilesystem().then(function(o){return c(o,n)})},i.checkFile=function(n){return i.getFilesystem().then(function(e){var t=o.defer();return e.root.getFile(c(e,n),{create:!1},function(n){t.resolve(n)},function(){t.resolve(e)}),t.promise})},i.downloadFile=function(n,e){return i.checkFile(e).then(function(n){var t,i=o.defer();return n.isFile?(t=n.toURL(),n.remove(function(){i.resolve(t)},function(n){r.error(n),i.reject(n)})):(t=c(filesystem,e),i.resolve(t)),i.promise}).then(function(e){var t=o.defer(),i=new FileTransfer;return i.onprogress=function(n){t.notify(n.lengthComputable?Math.round(n.loaded/n.total*100):"...")},i.download(encodeURI(n),e,function(n){r.debug(n),t.resolve(n)},function(n){r.error(n),t.reject(n)}),t.promise})},i}),angular.module("ngCordovaIonic").factory("localStorage",function(n){var o={};return o.set=function(o,e){n.localStorage[o]=e||""},o.get=function(o,e){return n.localStorage[o]||e},o.setJson=function(n,e){o.set(n,angular.toJson(e||[]))},o.getJson=function(n,e){return angular.fromJson(o.get(n,e||"[]"))},o}),angular.module("ngCordovaIonic").service("Notifier",function(n,o,e){this.info=function(){var t=_.toArray(arguments).join(" ");e().then(function(){o.showShortCenter(t).then(function(){n.info(t)},function(o){n.error(o)})},function(){n.info(t)})},this.infoTop=function(){var t=_.toArray(arguments).join(" ");e().then(function(){o.showShortTop(t).then(function(){n.info(t)},function(o){n.error(o)})},function(){n.info(t)})}}),angular.module("ngCordovaIonic").factory("Popup",function(n,o,e,t){var r={};return r.show=function(n,r,i){t().then(function(){o.confirm(r,function(n){var o=i[n-1];o&&o.onTap?o.onTap():angular.noop()},n,_.map(i,"text"))},function(){e.show({title:n,subTitle:r,buttons:i})})},r});